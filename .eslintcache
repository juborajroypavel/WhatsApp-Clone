[{"/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/index.js":"1","/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/reportWebVitals.js":"2","/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/App.js":"3","/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/Sidebar.js":"4","/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/SidebarChat.js":"5","/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/Chat.js":"6","/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/firebase.js":"7","/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/Login.js":"8","/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/reducer.js":"9","/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/StateProvider.js":"10"},{"size":687,"mtime":1609612186999,"results":"11","hashOfConfig":"12"},{"size":362,"mtime":1608982158647,"results":"13","hashOfConfig":"12"},{"size":890,"mtime":1609612959916,"results":"14","hashOfConfig":"12"},{"size":2374,"mtime":1609613092049,"results":"15","hashOfConfig":"12"},{"size":1547,"mtime":1609620740889,"results":"16","hashOfConfig":"12"},{"size":3857,"mtime":1609620463906,"results":"17","hashOfConfig":"12"},{"size":633,"mtime":1609205518137,"results":"18","hashOfConfig":"12"},{"size":1147,"mtime":1609611779638,"results":"19","hashOfConfig":"12"},{"size":428,"mtime":1609612823387,"results":"20","hashOfConfig":"12"},{"size":772,"mtime":1609612305864,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"1h54dxw",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"24"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"24"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/index.js",[],["47","48"],"/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/reportWebVitals.js",[],"/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/App.js",["49","50","51","52"],"import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport Chat from './Chat';\nimport Sidebar from './Sidebar';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport { useStateValue } from './StateProvider';\n\n\n\nfunction App() {\n  const [{ user }, dispatch] = useStateValue();\n  console.log(\"USER: \",user)\n\n  return (\n    <div className=\"app\">\n\n\n      {!user ? (\n        <Login />\n      ) : (\n          <div className=\"app__body\">\n\n            <Router>\n\n              <Sidebar />\n\n              <Switch>\n\n                <Route path=\"/rooms/:roomId\">\n                  <Chat />\n                </Route>\n\n                <Route path=\"/\">\n                  <Chat />\n                </Route>\n\n              </Switch>\n\n            </Router>\n\n\n          </div>\n        )}\n\n\n    </div>\n  );\n}\n\nexport default App;\n","/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/Sidebar.js",["53","54"],"import React, { useEffect, useState } from 'react';\nimport \"./Sidebar.css\";\nimport { Avatar, IconButton, recomposeColor } from \"@material-ui/core\";\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\nimport SidebarChat from './SidebarChat';\nimport db from \"./firebase\";\nimport { useStateValue } from './StateProvider';\n\n\n\n\nfunction Sidebar() {\n    const [rooms, setrooms] = useState([]);\n    const [{ user }, dispatch] = useStateValue();\n\n    useEffect(() => {\n        const unsubscribe = db.collection(\"rooms\")\n            .onSnapshot((snapshot) => {\n                setrooms(snapshot.docs.map((doc) => {\n                    return ({\n                        id: doc.id,\n                        data: doc.data()\n                    });\n                }))\n            });\n\n        return () => {\n            unsubscribe();\n        }\n\n    }, []);\n\n    console.log(rooms);\n\n\n    return (\n        <div className=\"sidebar\">\n            <div className=\"sidebar__header\">\n                <Avatar src={user?.photoURL}/>\n                <div className=\"sidebar__headerRight\">\n\n                    <IconButton>\n                        <DonutLargeIcon />\n                    </IconButton>\n\n                    <IconButton>\n                        <ChatIcon />\n                    </IconButton>\n\n                    <IconButton>\n                        <MoreVertIcon />\n                    </IconButton>\n                </div>\n            </div>\n\n            <div className=\"sidebar__search\">\n\n                <div className=\"sidebar__searchContainer\">\n                    <SearchOutlinedIcon />\n                    <input type=\"text\" placeholder=\"Search or start  new chat\" />\n                </div>\n\n            </div>\n\n            <div className=\"sidebar__chats\">\n                <SidebarChat addNewChat />\n                {rooms.map((room) => {\n                    return (\n                        <SidebarChat\n                            key={room.id}\n                            id={room.id}\n                            name={room.data.name}\n\n                        />\n                    );\n                })\n                }\n\n            </div>\n        </div>\n    )\n}\n\nexport default Sidebar;\n","/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/SidebarChat.js",[],"/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/Chat.js",["55"],"import { Avatar, IconButton } from '@material-ui/core';\nimport React, { useState, useEffect } from 'react';\nimport \"./Chat.css\";\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\nimport MicIcon from '@material-ui/icons/Mic';\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\nimport { useParams } from \"react-router-dom\";\nimport db from './firebase.js'\nimport { useStateValue } from './StateProvider';\nimport firebase from \"firebase\";\n\n\nfunction Chat() {\n    const [input, setInput] = useState(\"\");\n    const [seed, setSeed] = useState(\"\");\n    const { roomId } = useParams();\n    const [roomName, setroomName] = useState(\"\");\n    const [messages, setMessages] = useState([]);\n    const [{ user }, dispatch] = useStateValue();\n\n    useEffect(() => {\n        if (roomId) {\n            db.collection(\"rooms\").doc(roomId).onSnapshot((snapshot) => {\n                setroomName(snapshot.data().name);\n\n                db.collection(\"rooms\").doc(roomId).collection(\"messages\").orderBy(\"timestamp\", \"asc\").onSnapshot((snapshot) => {\n                    setMessages(snapshot.docs.map((doc) => {\n                        return (\n                            doc.data()\n                        );\n                    }))\n                })\n            });\n        }\n\n    }, [roomId])\n\n    console.log(\"Mesg\", messages.message);\n\n    useEffect(() => {\n        setSeed(Math.floor(Math.random() * 5000));\n    }, [roomId]);\n\n    const sendMessage = (e) => {\n        e.preventDefault();\n        db.collection(\"rooms\").doc(roomId).collection(\"messages\").add({\n            message: input,\n            name: user.displayName,\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n        })\n        setInput(\"\");\n    }\n \n\n\n\n    return (\n        <div className=\"chat\">\n\n            <div className=\"chat__header\">\n                <Avatar src={`https://avatars.dicebear.com/api/human/${seed}.svg`} />\n\n                <div className=\"chat__headerInfo\">\n                    <h3>{roomName}</h3>\n                    <p>Last seen {new Date(messages[messages.length-1]?.timestamp?.toDate()).toUTCString() }</p>\n                </div>\n\n                <div className=\"chat__headerRight\">\n\n                    <IconButton>\n                        <SearchOutlinedIcon />\n                    </IconButton>\n\n                    <IconButton>\n                        <AttachFileIcon />\n                    </IconButton>\n\n                    <IconButton>\n                        <MoreVertIcon />\n                    </IconButton>\n\n                </div>\n            </div>\n\n\n            <div className=\"chat__body\">\n                {messages.map((message) => {\n                    return (\n                        <p className={`chat__message ${message.name === user.displayName && \"chat__receiver\"}`}>\n                    <span className=\"chat__name\">{message.name}</span>\n                    {message.message}\n                <span className=\"chat__timestamp\">{new Date(message.timestamp?.toDate()).toUTCString()}</span>\n                </p>\n                    );\n                })}\n            </div>\n\n\n\n            <div className=\"chat__footer\">\n                <IconButton>\n                    <InsertEmoticonIcon />\n                </IconButton>\n                <form>\n                    <input value={input} onChange={(e) => {\n                        setInput(e.target.value)\n                    }} placeholder=\"Type a message\" type=\"text\" />\n                    <button onClick={sendMessage} type=\"submit\">Send a message</button>\n                </form>\n                <IconButton>\n                    <MicIcon />\n                </IconButton>\n\n            </div>\n\n        </div>\n    )\n}\n\nexport default Chat;\n","/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/firebase.js",[],"/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/Login.js",["56"],"import React from 'react';\nimport \"./Login.css\";\nimport { Button } from \"@material-ui/core\"\nimport { auth, provider } from './firebase';\nimport {useStateValue} from \"./StateProvider\";\nimport { actionTypes } from './reducer';\n\nfunction Login() {\n    const [{ }, dispatch] = useStateValue();\n\n    const signIn = () => {\n        auth.signInWithPopup(provider)\n            .then((result) => {\n                dispatch({\n                    type: actionTypes.SET_USER,\n                    user: result.user,\n                })\n            })\n            .catch((error) => {\n                alert(error.message)\n            })\n    };\n\n    return (\n        <div className=\"login\">\n\n            <div className=\"login__container\">\n\n                <img src=\"https://cdn4.iconfinder.com/data/icons/social-media-flat-7/64/Social-media_Whatsapp-256.png\" alt=\"\" />\n\n\n                <div className=\"login__text\">\n                    <h1>Sign In to WhatsApp</h1>\n                </div>\n\n                <Button onClick={signIn}>\n                    Sign In with Google\n                </Button>\n\n            </div>\n\n        </div>\n    )\n}\n\nexport default Login\n","/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/reducer.js",[],"/home/juborajroypavel/Desktop/WhatsApp/whatsapp-clone/src/StateProvider.js",[],{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","severity":1,"message":"62","line":1,"column":17,"nodeType":"63","messageId":"64","endLine":1,"endColumn":26},{"ruleId":"61","severity":1,"message":"65","line":1,"column":28,"nodeType":"63","messageId":"64","endLine":1,"endColumn":36},{"ruleId":"61","severity":1,"message":"66","line":5,"column":50,"nodeType":"63","messageId":"64","endLine":5,"endColumn":54},{"ruleId":"61","severity":1,"message":"67","line":12,"column":20,"nodeType":"63","messageId":"64","endLine":12,"endColumn":28},{"ruleId":"61","severity":1,"message":"68","line":3,"column":30,"nodeType":"63","messageId":"64","endLine":3,"endColumn":44},{"ruleId":"61","severity":1,"message":"67","line":17,"column":22,"nodeType":"63","messageId":"64","endLine":17,"endColumn":30},{"ruleId":"61","severity":1,"message":"67","line":21,"column":22,"nodeType":"63","messageId":"64","endLine":21,"endColumn":30},{"ruleId":"69","severity":1,"message":"70","line":9,"column":12,"nodeType":"71","messageId":"72","endLine":9,"endColumn":15},"no-native-reassign",["73"],"no-negated-in-lhs",["74"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","'Link' is defined but never used.","'dispatch' is assigned a value but never used.","'recomposeColor' is defined but never used.","no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","no-global-assign","no-unsafe-negation"]